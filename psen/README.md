# psen: sentinel 1 (current support) processing tool

## Introduction

psen allows calling existing tools (SNAP/s1tbx) for sentinel data processing automization. Here we support two types of processing: single file processing and batch one.
Related scripts are under folder main/.
Like dsen, works are run also in unit of task, specified under tasks/ folder.

## Usage

program is run in unit of task. One task is a bash script in /task calling main scripts under main/ and corresponding configuration file (if customized by user) under config/. 
Templates can be found in both repo, followed by plentiful examples there. Please make sure to copy paste and follow the instruction carefully.


Note that config/config\_template.sh is a template for both batch and single file processing. Actually they could share the same config bash script.

Besides, if you were to use new graphs, be sure to put it under graph/ folder and 
do some revision to input / output parameters inside so that script could run correctly.


task files should be under folder /tasks, with postfix .sh. After task is settled, use run\_tasks.sh to call \*.sh files, those not in .sh format __WILL NOT__ be executed.


## Repo structure

	psen/ 
	|
	|--	main/
	|	|
	|	|--	rmred.sh: removes redundant files if any, in case some unnecessary images are downloaded by dsen scripts
	|	|
	| 	|-- 	singleprocess.sh: processing single file with sepcified graph under graph/
	|	|
	| 	|-- 	batchprocess.sh: currently supporting mosaicking operation
	|
	|
	|--	config/ 	folder for storage of configuration files
	|	|
	|	|-- 	config_template.sh: parameter specificied for using downloading scripts, plz copy & paste it to a new one and edit this new one for customized param
	|	|
	|	|-- 	config.sh: default configuration file if none is specified by users
	|
	|
	| -- 	graph/ 		folder for storage .xml graph (generated with SNAP/s1tbx)
	|	|
	|	|-- 	preprocessing_SNAP_beam.xml: default single file processing graph
	|	|
	|	|-- 	mosaic_SNAP_beam.xml: default batch processing graph
	|
	|
	|--	tasks/ 		folder for storage of scripts calling customized configuration to run main/dsen.sh (only *.sh files will be executed by run_tasks)
	|	|
	|	|-- 	task_template: template for tasks, including specs. make sure you add .sh to customized files before calling run_tasks to execute them all
	|
	|
	|-- 	run_tasks.sh 	file to run all tasks with postfix *.sh under tasks/ & output the log to log/
	|
	|
	|-- 	log/ 		for log generated by tasks
	|
	|-- 	test/ 		developer repo for scripts debug
	|
	|--	clean.sh 	for develop usage only, cleaning test repo
	



