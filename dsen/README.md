# dsen: sentinel 1 (current support) downloading tool

## Introduction

Datahub has RESTful API which allows querying & downloading related sentinel data from its website. dsen encapsulated this feature, as well as some others,
to ensure a fault-tolerant multithreading download procedure.

## Usage

program is run in unit of task. One task is a bash script in /task calling main scripts under main/ and corresponding configuration file (if customized by user) under config/. Templates can be found in both repo, followed by plentiful examples there. Please make sure to copy paste and follow the instruction carefully.


The script uses some query params as defined by datahub website. details found here (https://scihub.copernicus.eu/userguide/4AdvancedSearch).


task files should be under folder /tasks, with postfix .sh. After task is settled, use run\_tasks.sh to call \*.sh files, those not in .sh format __WILL NOT__ be executed.


## Repo structure

	dsen/ 
	|
	|--	main/
	|	|
	|	|--	dsen.sh: serves as the downloader with multithread downloading on HPC, 
	|	|
	|	|--	rmdep.sh: removes duplicate files if any have been downloaded
	|	|
	|	|--	transfer.sh: moves file from HPC to our server, for further processing.
	|
	|
	|--	config/ 	folder for storage of configuration files
	|	|
	|	|-- 	config_template.sh: parameter specificied for using downloading scripts, plz copy & paste it to a new one and edit this new one for customized param
	|	|
	|	|-- 	config.sh: default configuration file if none is specified by users
	|
	|
	|--	tasks/ 		folder for storage of scripts calling customized configuration to run main/dsen.sh (only *.sh files will be executed by run_tasks)
	|	|
	|	|-- 	task_template: template for tasks, including specs. make sure you add .sh to customized files before calling run_tasks to execute them all
	|
	|
	|-- 	run_tasks.sh 	file to run all tasks with postfix *.sh under tasks/ & output the log to log/
	|
	|
	|-- 	log/ 		for log generated by tasks
	|
	|-- 	test/ 		developer repo for scripts debug



